<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/pharmacy/layout/default}">
<head>

</head>

<th:block layout:fragment="customContent">
      <main class="main" style="transform: none;">
            <div class="container mb-30" style="transform: none;">
            <div class="archive-header-2 text-center pt-80 pb-50">
                <div class="row">
                    <div class="col-lg-5 mx-auto">
                        <div class="sidebar-widget-2 widget_search mb-50">
                            <div class="search-form">
                                <form action="#">
                                    <input placeholder="ÏùòÏïΩÌíàÎ™Ö, Ìö®Îä•, Ï†úÏ°∞ÏÇ¨ Îì±ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî." type="text">
                                    <button type="submit"><i class="fi-rs-search"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row flex-row-reverse font-1" style="transform: none;">

                <div class="col-lg-4-5">
                    <div class="shop-product-fillter">
                        <div class="totall-product">
                            <p>ÌòÑÏû¨ <mark th:each="s, i : ${sellMedicineList}"
                                       th:if="${i.index} < 1"
                                       th:text="${i.size}"></mark> Í∞úÏùò ÏïΩÌíàÏù¥ Îì±Î°ùÎêòÏñ¥ ÏûàÏñ¥Ïöî.</p>
                        </div>
                        <div class="sort-by-product-area">
                            <div class="sort-by-cover mr-10">
                                <div class="sort-by-product-wrap">
                                    <div class="sort-by">
                                        <span><i>üíä</i></span>
                                    </div>
                                    <div class="sort-by-dropdown-wrap">
                                        <span> Ï†ÑÏ≤¥ <i class="fi-rs-angle-small-down"></i></span>
                                    </div>
                                </div>
                                <div class="sort-by-dropdown">
                                    <ul>
                                        <li><a class="active" href="#">Ï†ÑÏ≤¥</a></li>
                                        <li><a href="#">ÏùºÎ∞òÏùòÏïΩÌíà</a></li>
                                        <li><a href="#">Ï†ÑÎ¨∏ÏùòÏïΩÌíà</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="sort-by-cover">
                                <div class="sort-by-product-wrap">
                                    <div class="sort-by">
                                        <span><i class="bi-filter" style="font-size: 19px; color: black"></i></span>
                                    </div>
                                    <div class="sort-by-dropdown-wrap">
                                        <span>ÏµúÍ∑ºÎì±Î°ùÏàú <i class="fi-rs-angle-small-down"></i></span>
                                    </div>
                                </div>
                                <div class="sort-by-dropdown">
                                    <ul>
                                        <li><a class="active" href="#">ÏµúÍ∑ºÎì±Î°ùÏàú</a></li>
                                        <li><a href="#">Ïù∏Í∏∞Ïàú</a></li>
                                        <li><a href="#">ÎÇÆÏùÄÍ∞ÄÍ≤©Ïàú</a></li>
                                        <li><a href="#">ÎÜíÏùÄÍ∞ÄÍ≤©Ïàú</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <table class="table table-wishlist">


                        <tbody th:each="s : ${sellMedicineList}" th:if="${sellMedicineList != null}">

                        <tr class="pt-30">
                            <td class="image product-thumbnail pt-40 pl-30"><img th:src="${s.filePath}" /></td>
                            <td class="product-des product-name">
                                <h6><a class="mb-10" th:text="${s.mediName}"></a></h6>
                                <span style="color: gray" th:text="${s.mediDetail}"></span>

                            </td>
                            <td class="text-center detail-info" data-title="Stock">
                                <span class="stock-status in-stock mb-0" th:text="${s.state}"></span>
                            </td>
                            <td th:text="${s.regQty}"></td>
                            <td class="price" data-title="Price">
                                <h6 th:text="${s.mediPrice} + 'Ïõê'"></h6>
                            </td>
                            <td class="text-center detail-info" data-title="Stock">
                                <div class="detail-extralink mr-15">
                                    <div class="detail-qty border radius">
                                        <a class="qty-down" href="#"><i class="fi-rs-angle-small-down"></i></a>
                                        <input class="qty-val" min="1" name="qty" th:max="${s.regQty}" type="text" value="1">
                                        <a class="qty-up" href="#"><i class="fi-rs-angle-small-up"></i></a>
                                    </div>
                                </div>
                            </td>

                            <td class="text-right" data-title="Cart">
                                <form id="addShoppingCartForm" method="post" th:action="@{/pharm/addCart}">
                                    <input id="goodsCode" name="goodsCode" th:value="${s.goodsCode}" type="hidden">
                                    <input id="oMId" name="oMId" th:value="${session.S_ID}" type="hidden">
                                    <input id="shoppingCartGroup" name="shoppingCartGroup" type="hidden" value="group1">
                                    <input  class="qty-val-hidden" hidden="hidden" min="1" name="qty" th:max="${s.regQty}" type="text" value="1">
                                    <button class="btn btn-sm" type="submit">Îã¥Í∏∞</button>
                                </form>
                            </td>

                        </tr>



                         </tbody>
                    </table>

                </div>
                <!-- Îã¥Í∏∞ ÏôÑÎ£å -->
                <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="myModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                ÏôÑÎ£å
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-1-5 primary-sidebar sticky-sidebar" style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;">


                    <!-- Fillter By Price -->


                    <div class="theiaStickySidebar" style="padding-top: 0px; padding-bottom: 1px; position: static; transform: none;"><div class="sidebar-widget widget-store-info mb-30 bg-3 border-0">
                        <div class="vendor-logo mb-30">
                            <img alt="" th:src="@{/resource/user/assets/imgs/vendor/vendor-16.png}">
                        </div>
                        <div class="vendor-info">
                            <div class="product-category">
                                <span class="text-muted">Since 2012</span>
                            </div>
                            <h4 class="mb-5"><a class="text-heading" href="vendor-details-1.html">Nest Food.,Ltd</a></h4>
                            <div class="product-rate-cover mb-15">
                                <div class="product-rate d-inline-block">
                                    <div class="product-rating" style="width: 90%"></div>
                                </div>
                                <span class="font-small ml-5 text-muted"> (4.0)</span>
                            </div>
                            <div class="vendor-des mb-30">
                                <p class="font-sm text-heading">Got a smooth, buttery spread in your fridge? Chances are good that it's Good Chef. This brand made Lionto's list of the most popular grocery brands across the country.</p>
                            </div>
                            <div class="follow-social mb-20">
                                <h6 class="mb-15">Follow Us</h6>
                                <ul class="social-network">
                                    <li class="hover-up">
                                        <a href="#">
                                            <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/social-tw.svg}">
                                        </a>
                                    </li>
                                    <li class="hover-up">
                                        <a href="#">
                                            <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/social-fb.svg}">
                                        </a>
                                    </li>
                                    <li class="hover-up">
                                        <a href="#">
                                            <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/social-insta.svg}">
                                        </a>
                                    </li>
                                    <li class="hover-up">
                                        <a href="#">
                                            <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/social-pin.svg}">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="vendor-info">
                                <ul class="font-sm mb-20">
                                    <li><img alt="" class="mr-5" th:src="@{/resource/user/assets/imgs/theme/icons/icon-location.svg}"><strong>Address: </strong> <span>5171 W Campbell Ave undefined, Utah 53127 United States</span></li>
                                    <li><img alt="" class="mr-5" th:src="@{/resource/user/assets/imgs/theme/icons/icon-contact.svg}"><strong>Call Us:</strong><span>(+91) - 540-025-124553</span></li>
                                </ul>
                                <a class="btn btn-xs" href="vendor-details-1.html">Contact Seller <i class="fi-rs-arrow-small-right"></i></a>
                            </div>
                        </div>
                    </div><div class="sidebar-widget widget-category-2 mb-30">
                        <h5 class="section-title style-1 mb-30">Category</h5>
                        <ul>
                            <li>
                                <a href="shop-grid-right.html"> <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/category-1.svg}">Milks &amp; Dairies</a><span class="count">28</span>
                            </li>
                            <li>
                                <a href="shop-grid-right.html"> <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/category-2.svg}">Clothing</a><span class="count">32</span>
                            </li>
                            <li>
                                <a href="shop-grid-right.html"> <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/category-3.svg}">Pet Foods </a><span class="count">38</span>
                            </li>
                            <li>
                                <a href="shop-grid-right.html"> <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/category-4.svg}">Baking material</a><span class="count">61</span>
                            </li>
                            <li>
                                <a href="shop-grid-right.html"> <img alt="" th:src="@{/resource/user/assets/imgs/theme/icons/category-5.svg}">Fresh Fruit</a><span class="count">77</span>
                            </li>
                        </ul>
                    </div><div class="sidebar-widget price_range range mb-30">
                        <h5 class="section-title style-1 mb-30">Fill by price</h5>
                        <div class="price-filter">
                            <div class="price-filter-inner">
                                <div class="mb-20 noUi-target noUi-ltr noUi-horizontal noUi-background" id="slider-range"><div class="noUi-base"><div class="noUi-origin noUi-connect" style="left: 25%;"><div class="noUi-handle noUi-handle-lower"></div></div><div class="noUi-origin noUi-background" style="left: 50%;"><div class="noUi-handle noUi-handle-upper"></div></div></div></div>
                                <div class="d-flex justify-content-between">
                                    <div class="caption">From: <strong class="text-brand" id="slider-range-value1">$500</strong></div>
                                    <div class="caption">To: <strong class="text-brand" id="slider-range-value2">$1,000</strong></div>
                                </div>
                            </div>
                        </div>
                        <div class="list-group">
                            <div class="list-group-item mb-10 mt-10">
                                <label class="fw-900">Color</label>
                                <div class="custome-checkbox">
                                    <input class="form-check-input" id="exampleCheckbox1" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox1"><span>Red (56)</span></label>
                                    <br>
                                    <input class="form-check-input" id="exampleCheckbox2" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox2"><span>Green (78)</span></label>
                                    <br>
                                    <input class="form-check-input" id="exampleCheckbox3" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox3"><span>Blue (54)</span></label>
                                </div>
                                <label class="fw-900 mt-15">Item Condition</label>
                                <div class="custome-checkbox">
                                    <input class="form-check-input" id="exampleCheckbox11" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox11"><span>New (1506)</span></label>
                                    <br>
                                    <input class="form-check-input" id="exampleCheckbox21" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox21"><span>Refurbished (27)</span></label>
                                    <br>
                                    <input class="form-check-input" id="exampleCheckbox31" name="checkbox" type="checkbox" value="">
                                    <label class="form-check-label" for="exampleCheckbox31"><span>Used (45)</span></label>
                                </div>
                            </div>
                        </div>
                        <a class="btn btn-sm btn-default" href="shop-grid-right.html"><i class="fi-rs-filter mr-5"></i> Fillter</a>
                    </div><div class="banner-img wow fadeIn mb-lg-0 animated d-lg-block d-none animated" style="visibility: visible;">
                        <img alt="" th:src="@{/resource/user/assets/imgs/ttt.jpg}">
                        <div class="banner-text">
                        </div>
                    </div></div></div>
            </div>
        </div>
    </main>

</th:block>

<th:block layout:fragment="customJsFile">
</th:block>

<th:block layout:fragment="customJs">
    <script>
        document.querySelectorAll('.qty-val').forEach(function(externalInput) {
            externalInput.addEventListener('input', function() {
                var maxVal = parseInt(externalInput.getAttribute('max'), 10);
                if (parseInt(externalInput.value, 10) > maxVal) {
                    alert('ÏµúÎåÄ ÏàòÎüâÏùÄ ' + maxVal + 'ÏûÖÎãàÎã§.');
                    externalInput.value = 1; // Ï¥àÍ∏∞Ìôî Í∞í
                }
                // Find the corresponding hidden input inside the form
                var form = externalInput.closest('tr').querySelector('form');
                var hiddenInput = form.querySelector('.qty-val-hidden');
                hiddenInput.value = externalInput.value;
            });
        });

        // Additional code to handle the increment and decrement buttons
        document.querySelectorAll('.qty-up').forEach(function(button) {
            button.addEventListener('click', function(event) {
                event.preventDefault();
                var input = button.closest('.detail-qty').querySelector('.qty-val');
                var maxVal = parseInt(input.getAttribute('max'), 10);
                if (parseInt(input.value, 10) < maxVal) {
                    input.value = parseInt(input.value) + 1;
                    input.dispatchEvent(new Event('input')); // Trigger the input event to sync values
                } else {
                    alert('ÏµúÎåÄ ÏàòÎüâÏùÄ ' + maxVal + 'ÏûÖÎãàÎã§.');
                }
            });
        });

        document.querySelectorAll('.qty-down').forEach(function(button) {
            button.addEventListener('click', function(event) {
                event.preventDefault();
                var input = button.closest('.detail-qty').querySelector('.qty-val');
                if (parseInt(input.value, 10) > 1) {
                    input.value = parseInt(input.value) - 1;
                    input.dispatchEvent(new Event('input')); // Trigger the input event to sync values
                }
            });
        });


    </script>
    <script th:inline="javascript">

    </script>
</th:block>
</html>